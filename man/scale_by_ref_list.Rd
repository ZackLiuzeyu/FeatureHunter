% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{scale_by_ref_list}
\alias{scale_by_ref_list}
\title{/ Standardize datasets by a reference with reporting}
\usage{
scale_by_ref_list(
  exp_list,
  ref_index = 1,
  include_ref = FALSE,
  align = c("exact", "intersect")
)
}
\arguments{
\item{exp_list}{A list of matrices or data frames, where columns typically represent genes/features.}

\item{ref_index}{\code{exp_list} 1
Integer index specifying which dataset in \code{exp_list} serves as the reference (default 1).}

\item{include_ref}{/ \code{FALSE}
Logical; whether to include the reference dataset itself in the output (it will
be standardized by its own mean/SD). Default is \code{FALSE}.}

\item{align}{\code{"exact"} \code{"intersect"}
Alignment mode, one of \code{"exact"} or \code{"intersect"}:
\code{"exact"}
\code{"exact"}: requires all datasets to have identical column names and order as the reference; errors otherwise.
\code{"intersect"}
\code{"intersect"}: keeps only the intersection of columns across datasets, ordered as in the reference.}
}
\value{
A list with:
\code{data}: \code{include_ref}
Scaled list of matrices (reference included if \code{include_ref=TRUE}).
\code{report}: reference/test
A data.frame report with index, name, role (reference/test), dimensions, scaling flag, and note.
\code{ref_index}
Attribute \code{ref_index}: index of the reference dataset.
\code{ref_mean}
Attribute \code{ref_mean}: column means of the reference dataset.
\code{ref_sd} 1
Attribute \code{ref_sd}: column standard deviations of the reference dataset (0 or non-finite replaced by 1).
}
\description{
\code{exp_list} /
\code{(x - ref_mean) / ref_sd} \code{"exact"} \code{"intersect"}
For each matrix/data frame in \code{exp_list}, perform column-wise standardization
using the reference dataset's column means and standard deviations:
\code{(x - ref_mean) / ref_sd}. Supports two column alignment strategies
(\code{"exact"} and \code{"intersect"}). Returns scaled datasets and a summary report.
}
\details{
0 1
\code{na.rm = TRUE}
\code{data}
}
\examples{
\dontrun{
set.seed(123)
A <- matrix(rnorm(12, 10, 3), 4, 3, dimnames = list(NULL, c("g1","g2","g3")))
B <- matrix(rnorm(12, 20, 5), 4, 3, dimnames = list(NULL, c("g1","g2","g3")))
res <- scale_by_ref_list(list(A=A, B=B), ref_index=1, include_ref=TRUE, align="exact")
res$report
}
}
\seealso{
\code{\link{log_transform_list}}, \code{\link{decide_log_for_matrix}}
}
