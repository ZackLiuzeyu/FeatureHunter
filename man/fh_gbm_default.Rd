% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_gbm.R
\name{fh_gbm_default}
\alias{fh_gbm_default}
\title{Gradient Boosting (GBM) – default settings with optional auto-thresholding}
\usage{
fh_gbm_default(
  train_exp,
  train_labels,
  test_exp,
  labels_list,
  cutoff = c(0.25, 0.5, 0.75),
  auto_th_method = "auto",
  auto_imbalance_thresh = 0.35,
  auto_pr_vs_roc_gate = 0.5,
  collector = collector
)
}
\arguments{
\item{train_exp}{data.frame/matrix. Training features (samples × features).}

\item{train_labels}{vector. Binary training labels (0/1 or convertible by \code{as_binary01}).}

\item{test_exp}{list. External datasets (first = validation B, then C/D/…).}

\item{labels_list}{list. Label data.frames for A=1, B=2, … (first column = ID, second = label).}

\item{cutoff}{numeric. Fixed thresholds merged with auto threshold from B. Default: \code{c(0.25, 0.5, 0.75)}.}

\item{auto_th_method}{character. Auto threshold method: \code{"youden"} / \code{"f1"} / \code{"auto"}.
With \code{"auto"}, \code{decide_threshold_method()} is used based on class imbalance
and PR-vs-ROC performance; otherwise the specified method is used. Default: \code{"auto"}.}

\item{auto_imbalance_thresh}{numeric. Imbalance threshold passed to \code{decide_threshold_method()}. Default: \code{0.35}.}

\item{auto_pr_vs_roc_gate}{numeric. PR-vs-ROC advantage ratio gate for \code{decide_threshold_method()}. Default: \code{0.5}.}

\item{collector}{environment (optional). If supplied, each cutoff’s results are written into it via \code{.fh_collect()}.}
}
\value{
Invisibly returns a list with four elements:
\itemize{
\item \code{acc}     – named vectors of accuracy for A/B/C/…
\item \code{recall}  – named vectors of recall for A/B/C/…
\item \code{fs}      – named vectors of F1 for A/B/C/…
\item \code{summary} – per-dataset prediction data.frames
}
If \code{collector} is provided, results are also appended into it for downstream use.
}
\description{
Trains a Bernoulli GBM on the training set, selects decision thresholds on the
validation set B (fixed + optional auto threshold), evaluates on A/B/C/…,
and writes results to an optional collector environment as well as returning
local accumulators invisibly.
}
\examples{
\dontrun{
fh_gbm_default(
  train_exp    = train_exp,
  train_labels = train_labels,
  test_exp     = list(exp_list[[2]], exp_list[[3]], exp_list[[4]]),  # B / C / D
  labels_list  = labels_list,
  cutoff       = c(0.25, 0.5, 0.75),
  auto_th_method = "auto",
  auto_imbalance_thresh = 0.35,
  auto_pr_vs_roc_gate   = 0.5,
  collector    = collector
)
}
}
