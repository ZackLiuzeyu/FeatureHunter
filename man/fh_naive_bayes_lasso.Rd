% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_naive_bayes.R
\name{fh_naive_bayes_lasso}
\alias{fh_naive_bayes_lasso}
\title{Naive Bayes on LASSO Features with Auto Thresholding on B}
\usage{
fh_naive_bayes_lasso(
  train_exp,
  train_labels,
  test_exp,
  labels_list,
  lassogene,
  fold = 10,
  cutoff = c(0.25, 0.5, 0.75),
  auto_th_method = "auto",
  auto_imbalance_thresh = 0.35,
  auto_pr_vs_roc_gate = 0.5,
  collector = collector
)
}
\arguments{
\item{train_exp}{data.frame or matrix. Training expression matrix (samples in rows).}

\item{train_labels}{vector. Training labels (binary 0/1 or equivalent).}

\item{test_exp}{list. External expression matrices in a list; \code{test_exp[[1]]} is B.}

\item{labels_list}{list. Label tables aligned with train/test; \code{labels_list[[1]]} is A, \verb{[[2]]} is B, etc.}

\item{lassogene}{character vector. Feature names kept by LASSO.}

\item{fold}{integer. Fold count for display tags in metric keys (no re-splitting done here).}

\item{cutoff}{numeric. Fixed cutoff thresholds; default \code{c(0.25, 0.5, 0.75)}. Will be merged with the auto-selected one on B.}

\item{auto_th_method}{Auto threshold method passed to \code{choose_threshold}:
\code{"youden"} / \code{"f1"} / \code{"auto"} (default \code{"auto"}).
With \code{"auto"}, \code{decide_threshold_method()} is used to pick the strategy
based on class imbalance and PR vs ROC performance; otherwise the specified method is used.}

\item{auto_imbalance_thresh}{numeric. Imbalance threshold passed to \code{decide_threshold_method()} (default 0.35).}

\item{auto_pr_vs_roc_gate}{numeric. PR-vs-ROC advantage ratio gate for \code{decide_threshold_method()} (default 0.5).}

\item{collector}{optional environment. If supplied, each cutoff’s results are written into it
via \code{.fh_collect(collector, key, acc=..., recall=..., fs=..., summary=...)}.}
}
\value{
An invisible list with four elements (\code{acc}, \code{recall}, \code{fs}, \code{summary})
that mirror what is also written into \code{collector} when provided.
}
\description{
Fit a Naive Bayes model using only \code{lassogene} features, optionally pick an
additional decision threshold automatically on validation set B (merged with
fixed thresholds), then evaluate on Train (A) and all external sets (B/C/D…).
}
\examples{
\dontrun{
# suppose you already prepared: train_exp/train_labels/exp_list/labels_list/lassogene/collector
out <- fh_naive_bayes_lasso(
  train_exp    = train_exp,
  train_labels = train_labels,
  test_exp     = list(exp_list[[2]], exp_list[[3]], exp_list[[4]]),
  labels_list  = labels_list,
  lassogene    = lassogene,
  fold         = 10,
  collector    = collector
)
names(out$acc); names(out$summary)
}
}
