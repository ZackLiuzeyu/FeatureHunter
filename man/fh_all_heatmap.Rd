% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_all_heatmap.R
\name{fh_all_heatmap}
\alias{fh_all_heatmap}
\title{Plot overall heatmaps and export rankings and top lists (custom nshow)}
\usage{
fh_all_heatmap(
  all_result_acc,
  all_result_recall,
  all_result_FS,
  exp_files,
  heatmapcolor,
  nshow = 40,
  namesS = c("Accuracy", "Recall", "F-score"),
  out_dir = "heatmap"
)
}
\arguments{
\item{all_result_acc}{list
Accuracy results per method. Each element is a named numeric vector whose
names are dataset columns and values are scores.}

\item{all_result_recall}{list
Recall results per method, same structure as \code{all_result_acc}.}

\item{all_result_FS}{list
F-score results per method, same structure as \code{all_result_acc}.}

\item{exp_files}{character
Expression filename used to derive display names with
\code{gsub(".txt", "", exp_files)}.}

\item{heatmapcolor}{character
Color vector for the column annotation. Length should be >= number of cols.}

\item{nshow}{integer
Number of models in the Top-N heatmap and the Top-N CSV. Default is 40.}

\item{namesS}{character
Names of the three metrics, in order. Default:
\code{c("Accuracy","Recall","F-score")}.}

\item{out_dir}{character
Output directory for all files. Will be created if it does not exist.
Default is \code{"heatmap"}.}
}
\value{
Invisibly returns a list of length 3, the matrices used to plot each
metric heatmap, in the same order as \code{namesS}.
}
\description{
Given three metric lists (\code{all_result_acc}, \code{all_result_recall}, \code{all_result_FS}),
this function builds matrices, moves the training column to the end, renames
columns to "(train set)/(val set)/(test set)", ranks models by the mean over
test-set columns, draws heatmaps, and writes:
(1) full ranking CSV; (2) filtered ranking CSV; (3) Top-N models CSV
(emitted inside the first heatmap). Two PDFs per metric are written:
the full heatmap and the Top-N heatmap. All files are saved under \code{out_dir}.
}
\details{
Files written under \code{out_dir}:
\itemize{
\item \verb{all_<Metric>_ordered_models.csv}        full ranking (by test mean)
\item \verb{filtered_<Metric>_ordered_models.csv}   filtered ranking (same order)
\item \verb{<nshow>_top_<Metric>_models.csv}        Top-N model names
\item \verb{all_<Metric>_statical.pdf}              full heatmap PDF
\item \verb{<nshow>.show_<Metric>_statical.pdf}     Top-N heatmap PDF
}

Column renaming convention:
the first column is tagged with " (train set)",
the second with " (val set)",
columns 3..k with " (test set)".
}
\examples{
\dontrun{
heatmap_cols <- c("#8ecae6","#219ebc","#ffc8dd","#ffafcc",
                  "#023047","#ffb703","#fb8500","#bde0fe")

fh_all_heatmap(
  all_result_acc    = acc_list,
  all_result_recall = rec_list,
  all_result_FS     = fs_list,
  exp_files         = "DatasetA.txt",
  heatmapcolor      = heatmap_cols,
  nshow             = 40,
  namesS            = c("Accuracy","Recall","F-score"),
  out_dir           = "heatmap"
)
}

}
\seealso{
\code{\link{fh_roc}}, \code{\link{fh_plot_model}}
}
\concept{FeatureHunter plotting}
