% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_xgboost.R
\name{fh_xgboost}
\alias{fh_xgboost}
\title{XGBoost Interface}
\usage{
fh_xgboost(
  train_exp,
  train_labels,
  test_exp,
  labels_list,
  cutoff = c(0.25, 0.5, 0.75),
  nround = 100,
  max_depth = 6,
  eta = 0.5,
  auto_th_method = "auto",
  auto_imbalance_thresh = 0.35,
  auto_pr_vs_roc_gate = 0.5,
  collector = collector
)
}
\arguments{
\item{train_exp}{Training expression matrix (samples × features).}

\item{train_labels}{Binary vector of training labels (0/1).}

\item{test_exp}{A list: first = validation set B, others = test sets.}

\item{labels_list}{A list of label data.frames (A=1, B=2, …; first two columns = ID, label).}

\item{cutoff}{Numeric vector of fixed thresholds (default = \code{c(0.25, 0.5, 0.75)}).}

\item{nround, max_depth, eta}{XGBoost hyperparameters (defaults: 100, 6, 0.5).}

\item{auto_th_method}{Thresholding method: \code{"youden"}/\code{"f1"}/\code{"auto"}.
When \code{"auto"}, \code{decide_threshold_method()} is used.}

\item{auto_imbalance_thresh}{Imbalance threshold for auto mode (default 0.35).}

\item{auto_pr_vs_roc_gate}{PR-vs-ROC gate for auto mode (default 0.5).}

\item{collector}{Optional environment to collect results; if supplied, results are
written into it on the fly via \code{.fh_collect()}.}
}
\value{
Collector environment and an invisible list of results
(acc, recall, fs, summary, importance).
}
\description{
Train a basic XGBoost model (objective = \code{"binary:logistic"}). Thresholds are
automatically selected on validation set B and merged with fixed thresholds.
Performance (F1/ACC/RECALL) is computed on A/B/C/D… datasets. Variable importance
is also extracted.
}
\examples{
\dontrun{
# create a collector
collector <- fh_new_collector()

out <- fh_xgboost(
  train_exp    = train_exp,
  train_labels = train_labels,
  test_exp     = list(exp_list[[2]], exp_list[[3]], exp_list[[4]]),  # B / C / D
  labels_list  = labels_list,
  auto_th_method = "auto",
  collector   = collector
)

# convert to plain lists if needed
lists <- fh_as_lists(collector)
}

}
