% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{decide_threshold_method}
\alias{decide_threshold_method}
\title{Decide method for threshold selection}
\usage{
decide_threshold_method(
  probs,
  y_true,
  imbalance_thresh = 0.35,
  pr_vs_roc_gate = 0.5
)
}
\arguments{
\item{probs}{Numeric vector of predicted probabilities.}

\item{y_true}{0/1
Vector of true binary labels (0/1; coerced to integer).}

\item{imbalance_thresh}{0.35
\code{"f1"}
Numeric threshold for class imbalance (default 0.35). If the minority class
proportion is below this value, \code{"f1"} is preferred.}

\item{pr_vs_roc_gate}{0.5
PR AUC ROC AUC \code{"youden"}
Numeric cutoff (default 0.5) for comparing PR AUC gain vs ROC AUC gain.
If PR gain is relatively low, \code{"youden"} is chosen.}
}
\value{
\code{"youden"} \code{"f1"}
A character string, either \code{"youden"} or \code{"f1"}, indicating the chosen method.
}
\description{
Automatically decides whether to use \code{"youden"} (ROC Youden index) or \code{"f1"}
(maximize F1 score) as the threshold selection method, based on data balance
and available metrics packages.
}
\details{
Decision logic:
Returns \code{"f1"} if predicted probabilities are degenerate or classes are highly imbalanced.
If both \pkg{pROC} and \pkg{PRROC} are available, compares PR AUC vs ROC AUC gains.
Falls back to \code{"youden"} otherwise.
}
\examples{
set.seed(123)
probs <- runif(100)
labels <- rbinom(100, 1, 0.2)
decide_threshold_method(probs, labels)
}
\seealso{
\code{\link{choose_threshold}}, \code{\link{f1_score}}
}
