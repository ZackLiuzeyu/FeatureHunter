% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_lda.R
\name{fh_lda}
\alias{fh_lda}
\title{Linear Discriminant Analysis (LDA) interface}
\usage{
fh_lda(
  train_exp,
  train_labels,
  test_exp,
  labels_list,
  cutoff = c(0.25, 0.5, 0.75),
  auto_th_method = "auto",
  auto_imbalance_thresh = 0.35,
  auto_pr_vs_roc_gate = 0.5,
  collector = collector
)
}
\arguments{
\item{train_exp}{Training expression matrix}

\item{train_labels}{Training labels (0/1 or binary factor)}

\item{test_exp}{List: first element = validation set B, others = test sets C/D/…}

\item{labels_list}{Label list for dataset alignment (A=1, B=2, C=3, …)}

\item{cutoff}{Fixed cutoff set (default \code{c(0.25, 0.5, 0.75)}); merged with auto thresholds from B}

\item{auto_th_method}{Auto threshold method: \code{"youden"} / \code{"f1"} / \code{"auto"}.
With \code{"auto"}, \code{decide_threshold_method()} is used to pick the strategy
based on class imbalance and PR vs ROC performance; otherwise the specified method is used.}

\item{auto_imbalance_thresh}{Imbalance threshold passed to \code{decide_threshold_method()} (default 0.35).}

\item{auto_pr_vs_roc_gate}{PR-vs-ROC advantage ratio gate for \code{decide_threshold_method()} (default 0.5).}

\item{collector}{(optional) environment collector; if supplied, each cutoff’s results are written into it}
}
\value{
Returns a \code{collector} environment containing four fields:
\itemize{
\item \code{all_result_summary}: predicted result data.frames for each dataset
\item \code{all_result_acc}: accuracy values for each dataset
\item \code{all_result_recall}: recall values for each dataset
\item \code{all_result_FS}: F1 scores for each dataset
}
Use \code{fh_as_lists(collector)} to convert into plain R lists.
}
\description{
Fits a \code{MASS::lda} model on the training set; automatically selects threshold
(F1 / Youden) on validation set B and merges it with fixed cutoffs; evaluates
F1 / ACC / RECALL on A/B/C/D… datasets. Results are written into global
containers: \code{all_result_FS}, \code{all_result_acc},
\code{all_result_recall}, \code{all_result_summary}.
}
\examples{
\dontrun{
fh_lda(
  train_exp    = train_exp,
  train_labels = train_labels,
  test_exp     = list(exp_list[[2]], exp_list[[3]], exp_list[[4]]),  # B/C/D
  labels_list  = labels_list,
  cutoff       = c(0.25, 0.5, 0.75),
  collector    = collector
)
}

}
