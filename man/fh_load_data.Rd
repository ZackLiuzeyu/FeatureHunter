% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_load_data.R
\name{fh_load_data}
\alias{fh_load_data}
\title{Load Expression and Label Data with Hub-Gene Filtering}
\usage{
fh_load_data(
  dir,
  train_exp_name,
  hub_file = "Common_genes.txt",
  positive_label,
  assign_to_global = FALSE,
  target_env = .GlobalEnv
)
}
\arguments{
\item{dir}{character. Directory that contains raw files.}

\item{train_exp_name}{character. Filename of the training expression dataset (must exist in \code{dir}).}

\item{hub_file}{character. Filename of hub-gene list (TSV, first column = gene ids). Default: "hub_gene.txt".}

\item{positive_label}{character. Value in label files representing the positive class.}

\item{assign_to_global}{logical. If TRUE, assign key objects to \code{target_env}. Default: FALSE.}

\item{target_env}{environment. Target environment for assignment when \code{assign_to_global = TRUE}.
Default: .GlobalEnv.}
}
\value{
list with:
\itemize{
\item x_train: training expression matrix
\item y_train: training labels (factor 0/1)
\item x_tests: named list of external test matrices
\item genes: used hub-gene set (intersection)
\item all_labels: combined label table (standardized to 0/1 in \code{label})
\item files: list(allfiles, labels_files, exp_files)
\item exp_list: list of processed expression matrices (after filtering/transposing)
\item com_genes: intersection genes used
}
}
\description{
Load expression/label files, filter by a hub-gene list, and split into train
(first expression file = \code{train_exp_name}) and external test sets.
Returns a list. Optionally assigns key objects to a target environment
(e.g., \code{.GlobalEnv}) via \code{assign_to_global = TRUE}.
}
