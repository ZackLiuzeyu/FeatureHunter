% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{choose_threshold}
\alias{choose_threshold}
\title{Choose optimal classification threshold}
\usage{
choose_threshold(probs, y_true, method = c("youden", "f1"), fallback = 0.5)
}
\arguments{
\item{probs}{\code{[0,1]}
Numeric vector of predicted probabilities (range \code{[0,1]}).}

\item{y_true}{0/1
Vector of true binary labels (0/1; coerced to numeric).}

\item{method}{\code{"youden"} \code{"f1"} \code{"youden"}
Method for threshold selection, \code{"youden"} or \code{"f1"} (default \code{"youden"}).}

\item{fallback}{0.5
Numeric fallback threshold if no valid threshold can be computed (default 0.5).}
}
\value{
A numeric scalar giving the chosen threshold.
}
\description{
Selects an optimal classification threshold given predicted probabilities
and true labels. Supports:
\code{"youden"}: maximizes Youden's index from the ROC curve (requires \pkg{pROC});
\code{"f1"}: maximizes F1 score across candidate thresholds.
Falls back to \code{fallback} if computation fails.
}
\details{
This function is useful for imbalanced classification problems where the
default threshold 0.5 may not be optimal.
}
\examples{
set.seed(1)
probs <- runif(100)
labels <- rbinom(100, 1, 0.3)
choose_threshold(probs, labels, method = "youden")
choose_threshold(probs, labels, method = "f1")
}
\seealso{
\code{\link{f1_score}}, \code{\link{metrics_from_preds}}
}
