% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{is_count_like}
\alias{is_count_like}
\title{Check if a matrix looks count-like}
\usage{
is_count_like(
  mat,
  integer_prop_threshold = 0.995,
  mean_threshold = 1,
  max_threshold = 100,
  tol = 1e-08
)
}
\arguments{
\item{mat}{matrix|data.frame
Numeric matrix/data.frame (rows = samples, cols = features).}

\item{integer_prop_threshold}{numeric
Minimum proportion of entries that must be (near) integers to qualify as count-like.
Default: \code{0.995}.
**** \code{0.995}}

\item{mean_threshold}{numeric
Lower bound on the \strong{global mean}; mean must be \emph{strictly} greater than this value.
Default: \code{1}.}

\item{max_threshold}{numeric
Lower bound on the \strong{global maximum} (at least this large). Default: \code{100}.}

\item{tol}{numeric
Tolerance when testing "near integer" via \code{|x - round(x)| <= tol}. Default: \code{1e-8}.
\code{|x - round(x)| <= tol} \code{1e-8}}
}
\value{
logical
\code{TRUE} if \code{mat} is considered count-like, otherwise \code{FALSE}.
\code{TRUE} \code{FALSE}
}
\description{
Heuristically determine whether a numeric matrix/data.frame is \strong{count-like}:
values are (almost) integers, mean is reasonably large, and the maximum is high.
Useful to decide whether a \code{log2(x + 1)} transform might be appropriate.
\code{log2(x + 1)}
}
\examples{
x <- matrix(c(0,1,2,3, 10,50,100,200), nrow = 2)
is_count_like(x) # likely TRUE
y <- matrix(rnorm(100), 10)
is_count_like(y) # likely FALSE
}
