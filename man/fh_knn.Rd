% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fh_knn.R
\name{fh_knn}
\alias{fh_knn}
\title{K-Nearest Neighbors (KNN)}
\usage{
fh_knn(
  train_exp,
  train_labels,
  test_exp,
  labels_list,
  knumber = c(1, 2, 3, 4, 5),
  cutoff = c(0.25, 0.5, 0.75),
  auto_th_method = "auto",
  auto_imbalance_thresh = 0.35,
  auto_pr_vs_roc_gate = 0.5,
  collector = collector
)
}
\arguments{
\item{train_exp}{Training expression matrix (rows = samples, cols = features).}

\item{train_labels}{Binary vector or factor (0/1).}

\item{test_exp}{A list: first element = validation set B, others = C/D/…}

\item{labels_list}{A list of label data frames (A=1, B=2, …).}

\item{knumber}{Integer vector of k values (default \code{c(1,2,3,4,5)}).}

\item{cutoff}{Fixed cutoff values (default \code{c(0.25,0.5,0.75)}).}

\item{auto_th_method}{Threshold method: "auto" (default), "f1", or "youden".}

\item{auto_imbalance_thresh}{imbalance threshold for \code{decide_threshold_method()} (default 0.35).}

\item{auto_pr_vs_roc_gate}{PR-vs-ROC advantage gate (default 0.5).}

\item{collector}{Environment to store results.}
}
\value{
invisible list of results (acc, recall, fs, summary) also written into \code{collector}.
}
\description{
Iterates through a set of k values, trains and predicts for each;
selects optimal threshold on validation set B (F1 / Youden / auto),
merges with fixed cutoffs, and evaluates F1 / ACC / REC on A/B/C/D datasets.
Results are stored in the \code{collector} environment.
}
\examples{
\dontrun{
collector <- new.env()
fh_knn(
  train_exp    = train_exp,
  train_labels = train_labels,
  test_exp     = list(exp_list[[2]], exp_list[[3]]),
  labels_list  = labels_list,
  knumber      = c(1,3,5),
  auto_th_method = "auto",
  collector    = collector
)
}

}
